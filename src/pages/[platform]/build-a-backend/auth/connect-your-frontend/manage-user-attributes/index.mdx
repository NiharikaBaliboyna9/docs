import { getCustomStaticPath } from '@/utils/getCustomStaticPath';

export const meta = {
  title: 'Manage user attributes',
  description: 'Learn about managing user attributes in your Amplify app',
  platforms: [
    'android',
    'angular',
    'flutter',
    'javascript',
    'nextjs',
    'react',
    'react-native',
    'swift',
    'vue'
  ]
};

export function getStaticPaths() {
  return getCustomStaticPath(meta.platforms);
}

export function getStaticProps() {
  return {
    props: {
      meta
    }
  };
}

User attributes such as email, address, and phone number help you identify individual users. Defining the user attributes you include for your user profiles makes user data easy to manage at scale. This information will help you personalize user journeys, tailor content, provide intuitive account control, and more. You can capture information upfront during sign-up or enable customers to update their profile after sign-up. In this section we take a closer look at working with user attributes, how to set them up and manage them.

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>
## Pass user attributes during sign-up

You can create user attributes during sign-up or when the user is authenticated. To do this as part of sign-up you can pass them in the `userAttributes` object of the `signUp` API:

```ts
import { signUp } from "aws-amplify/auth";

await signUp({
  username: "jdoe",
  password: "mysecurerandompassword#123",
  options: {
    userAttributes: {
      email: "me@domain.com",
      phone_number: "+12128601234", // E.164 number convention
      given_name: "Jane",
      family_name: "Doe",
      nickname: "Jane",
    },
  },
});
```
</InlineFilter>

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs', 'flutter', 'swift']}>

## Configure custom user attributes during sign-up

Custom attributes can be passed in with the `userAttributes` option of the `signUp` API:

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>

```ts
import { signUp } from "aws-amplify/auth";

await signUp({
  username: 'john.doe@example.com',
  password: 'hunter2',
  options: {
    userAttributes: {
      'custom:display_name': 'john_doe123',
    }
  }
});
```

</InlineFilter>
<InlineFilter filters={['flutter']}>

```dart
Future<void> _signUp({
    required String username,
    required String password,
    required String email,
    required String customValue,
}) async  {
  final userAttributes = {
    AuthUserAttributeKey.email: email,
    // Create and pass a custom attribute
    const CognitoUserAttributeKey.custom('my-custom-attribute'): customValue
  };
  await Amplify.Auth.signUp(
    username: username,
    password: password,
    options: SignUpOptions(
      userAttributes: userAttributes,
    ),
  );
}
```

</InlineFilter>
<InlineFilter filters={['swift']}>

```swift
func signUp(username: String, password: String, email: String) async {
    do {
        let signUpResult = try await Amplify.Auth.signUp(
            username: username,
            password: password,
            options: .init(userAttributes: [
                AuthUserAttribute(.email, value: email), 
                AuthUserAttribute(.custom("my-custom-attribute"), value: <custom attribute value>)
            ])
        )
        if case let .confirmUser(deliveryDetails, _, userId) = signUpResult.nextStep {
            print("Delivery details \(String(describing: deliveryDetails)) for userId: \(String(describing: userId)))")
        } else {
            print("SignUp Complete")
        }
    } catch let error as AuthError {
        print("An error occurred while registering a user \(error)")
    } catch {
        print("Unexpected error: \(error)")
    }
}
```

</InlineFilter>
</InlineFilter>

<InlineFilter filters={['react', 'react-native']}>
## useUserAttributes Hook

The Amplify-UI `useUserAttributes` hook can be used for attribute management in React and React Native applications. It relies on the same APIs utilized in other platforms, and provides a helpful abstraction that takes the management out of your hands. 

The `state` object contains `data`, `isLoading`, `hasError`, and `message`, all of which provide UI-usable information. The `data` contains `attributes` and `pendingVerification`, which provide the latest user attributes and information about verifiable attributes.

Meanwhile, the hook also returns a `handleAttributes` function which accepts 5 types of inputs: `CONFIRM`, `DELETE`, `FETCH`, `SEND_CODE`, and `UPDATE`. When a type is passed as an input to `handleAttributes`, the function will also expect an additional object to be passed to the underlying API.

<InlineFilter filters={['react']}>
### Initializing Hook and Retrieving Attributes
```ts
import React, { useEffect } from 'react';
import { useUserAttributes } from '@aws-amplify/ui-react-core';
import { Loader, View, Text } from '@aws-amplify/ui-react';

export const UserAttributes = () => {
  const [{ data, isLoading, hasError, message }, handleAttributes] = useUserAttributes();

  useEffect(() => {
    handleAttributes({ type: 'FETCH' });
  }, [handleAttributes]);

  if (hasError) {
    return <Text>{message}</Text>;
  }

  if (isLoading) {
    return <Loader />;
  }

  return (
    <View>
      {Object.entries(data.attributes).map(
        ([key, value]) => value && <Text key={key}>{`${key}: ${value}`}</Text>
      )}
    </View>
  );
};
```
The `state.data.attributes` is automatically kept up-to-date with `fetchUserAttributes` calls behind the scenes. The initial fetch action is required since no other action has been called, but any additional actions impacting the current user attributes will refresh the attributes to their newest state.

### Updating User Attributes

```ts
import { UserAttributeKey } from "aws-amplify/auth";
import { useUserAttributes } from "@aws-amplify/ui-react-core";
import React from "react";
import { View, TextField, Button, Loader } from "@aws-amplify/ui-react";

export const UpdateUserAttributesForm = () => {
  const [{ isLoading }, handleAttributes] = useUserAttributes();

  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const userAttributes = Object.fromEntries(formData.entries()) as Record<
      UserAttributeKey,
      string
    >;
    handleAttributes({ type: "UPDATE", userAttributes });
    e.currentTarget.reset();
  };

  return (
    <View as="form" onSubmit={handleSubmit}>
      <TextField name="name" label="Name" />
      <Button type="submit" isLoading={isLoading}>
        Update Attributes
      </Button>
    </View>
  );
};
```
This example demonstrates how a developer may configure a form for the `name` attribute, and the structure can be expanded to accept simultaneous inputs for multiple attributes. It is important to note that only attributes configured as 'mutable' may be updated.

### Delete User Attributes
```ts
import React, { useEffect } from "react";
import { UserAttributeKey } from "aws-amplify/auth";
import { useUserAttributes } from "@aws-amplify/ui-react-core";
import { View, Heading, CheckboxField, Button, Loader, Text } from "@aws-amplify/ui-react";

export const UserAttributeDeletionForm = () => {
  const [{ isLoading, data }, handleAttributes] = useUserAttributes();

  useEffect(() => {
    handleAttributes({ type: "FETCH" });
  }, [handleAttributes]);

  const handleDeleteSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const userAttributeKeys = Array.from(formData.keys());
    handleAttributes({ type: "DELETE", userAttributeKeys });
  };

  return (
    <View>
      {isLoading ? <Loader /> : null}
      <Heading level={2}>Delete User Attributes</Heading>
      <View as="form" onSubmit={handleDeleteSubmit}>
        {Object.entries(data.attributes ?? {}).map(([key, value]) => (
          <View key={key}>
            <CheckboxField label={key} name={key} />
            <Text>{key}</Text>
            <Text>{value || "unspecified"}</Text>
          </View>
        ))}
        <Button type="submit" isLoading={isLoading}>
          Delete Selected
        </Button>
      </View>
    </View>
  );
};
```
As with updating, it is important to note that only attributes configured as 'mutable' may be deleted. Furthermore, 'required' attributes may not be deleted because they may not be undefined.

### Verifying Attributes
```ts
import { UserAttributeKey } from "aws-amplify/auth";
import { useUserAttributes } from "@aws-amplify/ui-react-core";
import { View, TextField, Button, Text } from "@aws-amplify/ui-react";

export const UpdateAndVerifyUserAttribute = () => {
  const [{ isLoading, data }, handleAttributes] = useUserAttributes();

  const handleUpdateSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const userAttributes = Object.fromEntries(formData.entries()) as Record<
      UserAttributeKey,
      string
    >;
    handleAttributes({ type: 'UPDATE', userAttributes });
  };

  const handleVerifySubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const confirmationCode = formData.get('Confirmation Code') as string;
    handleAttributes({
      type: 'CONFIRM',
      userAttributeKey: 'email',
      confirmationCode,
    });
    e.currentTarget.reset();
  };

  return (
    <View>
      <Text>Current Email: {data.attributes.email}</Text>
      <View as="form" onSubmit={handleUpdateSubmit}>
        <TextField type="email" name="email" label="Email" />
        <Button type="submit" isLoading={isLoading}>
          Update Email
        </Button>
      </View>

      {data.pendingVerification && (
        <View as="form" onSubmit={handleVerifySubmit}>
          <Text>
            Verification Code for{' '}
            {data.pendingVerification[0].codeDeliveryDetails.destination}:
          </Text>
          <TextField label="Confirmation Code" name={'Confirmation Code'} />
          <Button type="submit" disabled={isLoading}>
            Verify {data.pendingVerification[0].name}
          </Button>
        </View>
      )}
    </View>
  );
};
```

### Sending Verification Code
```ts
import { useUserAttributes } from "@aws-amplify/ui-react-core";
import { Button } from "@aws-amplify/ui-react";

export const ResendVerificationCodeButton = () => {
  const [{ isLoading }, handleAttributes] = useUserAttributes();

  const handleResendCode = () => {
    handleAttributes({ type: "SEND_CODE", userAttributeKey: "email" });
  };

  return (
    <Button isLoading={isLoading} onClick={handleResendCode}>
      Resend Verification Code
    </Button>
  );
};
```
With this `handleAttributes` configuration, `userAttributeKey` must be a verifiable attribute, so only `email` and `phone_number` are valid inputs.

### Full Profile Page
Using the various inputs to `handleAttributes`, a simple profile page can easily be configured to accept updates and deletions of attributes.
```ts
import React from 'react';
import { useUserAttributes } from '@aws-amplify/ui-react-core';
import {
  Button,
  View,
  Flex,
  Heading,
  TextField,
  Divider,
} from '@aws-amplify/ui-react';
import { UserAttributeKey } from 'aws-amplify/auth';

export const SimpleProfilePage = () => {
  const [state, handleAttributes] = useUserAttributes();
  const [isEditMode, setIsEditMode] = React.useState(false);
  const [isConfirmMode, setIsConfirmMode] = React.useState(false);
  const formRef = React.useRef<HTMLFormElement>(null);

  const editableAttributes: UserAttributeKey[] = [
    'family_name',
    'given_name',
    'locale',
    'name',
    'nickname',
    'birthdate',
    'middle_name',
    'gender',
    'preferred_username',
    'website',
  ];

  const handleAttributeDelete = (key: UserAttributeKey) => {
    handleAttributes({
      type: 'DELETE',
      userAttributeKeys: [key],
    });
    const input = formRef.current?.querySelector(
      `input[name="${key}"]`
    ) as HTMLInputElement;
    input.value = '';
  };

  const handleUpdateEmailSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const userAttributes = Object.fromEntries(formData.entries()) as Record<
      UserAttributeKey,
      string
    >;
    handleAttributes({ type: 'UPDATE', userAttributes });
    setIsConfirmMode(true);
    e.currentTarget.reset();
  };

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const userAttributes = Object.fromEntries(formData.entries()) as Record<
      UserAttributeKey,
      string
    >;
    handleAttributes({ type: 'UPDATE', userAttributes });
  };

  const handleVerifySubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    const confirmationCode = formData.get('confirmationCode') as string;
    handleAttributes({
      type: 'CONFIRM',
      userAttributeKey: 'email',
      confirmationCode,
    });
    setIsConfirmMode(false);
    e.currentTarget.reset();
  };

  React.useEffect(() => {
    handleAttributes({ type: 'FETCH' });
  }, [handleAttributes]);

  if (state.isLoading && !state.data.attributes) {
    return <div>Loading...</div>;
  }

  if (state.message) {
    return <div>Error: {state.message}</div>;
  }

  if (!state.data.attributes) {
    return <div>No data</div>;
  }

  return (
    <Flex direction="column" alignItems="center">
      <Heading level={1}>Profile</Heading>
      <View>
        <Heading level={5} textAlign={'center'} marginBottom="10px">
          User Attributes
        </Heading>
        <Divider orientation="horizontal" marginBottom="5px" />
        {!isEditMode ? (
          <>
            {Object.entries(state.data.attributes)
              .filter(
                ([key]) =>
                  key !== 'phone_number_verified' &&
                  key !== 'sub' &&
                  key !== 'email_verified' &&
                  key !== 'phone_number'
              )
              .map(([key, value]) => (
                <Flex key={key} alignItems="center" marginBottom="0.5rem">
                  <View
                    width="200px"
                    textAlign="right"
                  >
                    {key
                      .replace(/_/g, ' ')
                      .replace(/(^|\s)\S/g, (match) => match.toUpperCase())}
                    :
                  </View>
                  <View textAlign="right">{value as string}</View>
                </Flex>
              ))}
            <Button
              onClick={() => setIsEditMode(true)}
            >
              Edit
            </Button>
          </>
        ) : (
          <View>
            <Flex
              as="form"
              direction="column"
              alignItems="left"
              ref={formRef}
              onSubmit={handleSubmit}
            >
              <Flex justifyContent="space-between" marginTop="1rem">
                <Button
                  isLoading={state.isLoading}
                  type="submit"
                >
                  Submit Updates
                </Button>
                <Divider orientation="vertical" />
                <Button
                  isLoading={state.isLoading}
                  type="button"
                  onClick={() => setIsEditMode(false)}
                >
                  Done Editing
                </Button>
              </Flex>
              {editableAttributes.map((key) => (
                <Flex
                  key={key}
                  alignItems="center"
                >
                  <Flex alignItems="end">
                    <TextField
                      label={key
                        .replace(/_/g, ' ')
                        .replace(/(^|\s)\S/g, (match) => match.toUpperCase())}
                      name={key}
                      defaultValue={state.data.attributes[key] || ''}
                    />
                    <Button
                      isLoading={state.isLoading}
                      type="button"
                      onClick={() => {
                        handleAttributeDelete(key);
                      }}
                    >
                      Delete
                    </Button>
                  </Flex>
                </Flex>
              ))}
              <Divider orientation="horizontal" />
            </Flex>
            <Flex
              as="form"
              direction="column"
              onSubmit={handleUpdateEmailSubmit}
            >
              <TextField
                type="email"
                name="email"
                label="Email:"
                descriptiveText="Enter your new email address:"
              />
              <Button
                isLoading={state.isLoading}
                type="submit"
              >
                Update Email
              </Button>
            </Flex>
            {isConfirmMode && state.data.pendingVerification && (
              <Flex
                as="form"
                direction="column"
                onSubmit={handleVerifySubmit}
              >
                <TextField
                  type="text"
                  name="confirmationCode"
                  label={`Verification Code for ${state.data.pendingVerification[0].codeDeliveryDetails?.destination}`}
                  descriptiveText="Enter the verification code sent to your email"
                />
                <Button
                  isLoading={state.isLoading}
                  type="submit"
                >
                  Verify Email
                </Button>
              </Flex>
            )}
          </View>
        )}
      </View>
    </Flex>
  );
};

```

</InlineFilter>
<InlineFilter filters={['react-native']}>
### Initializing Hook and Retrieving Attributes
```ts
import React, { useEffect } from 'react';
import { useUserAttributes } from '@aws-amplify/ui-react-core';
import { ActivityIndicator, View, Text } from 'react-native';

export const UserAttributes = () => {
  const [{ data, isLoading, hasError, message }, handleAttributes] = useUserAttributes();

  useEffect(() => {
    handleAttributes({ type: 'FETCH' });
  }, [handleAttributes]);

  if (hasError) {
    return <Text>{message}</Text>;
  }

  if (isLoading) {
    return <ActivityIndicator />;
  }

  return (
    <View>
      {Object.entries(data.attributes).map(
        ([key, value]) => value && <Text key={key}>{`${key}: ${value}`}</Text>
      )}
    </View>
  );
};
```
The `state.data.attributes` is automatically kept up-to-date with `fetchUserAttributes` calls behind the scenes. The initial fetch action is required since no other action has been called, but any additional actions impacting the current user attributes will refresh the attributes to their newest state.

### Updating User Attributes
```ts
import React, { useState } from 'react';
import { View, TextInput, Button, Text } from 'react-native';
import { useUserAttributes } from '@aws-amplify/ui-react-core';

export const UpdateUserAttributes = () => {
  const [{ data, isLoading }, handleAttributes] = useUserAttributes();
  const [name, setName] = useState('');

  const handleSubmit = () => {
    const userAttributes = {
      name,
      // Add other attributes as needed
    };
    handleAttributes({ type: 'UPDATE', userAttributes });
  };

  return (
    <View>
      <Text>Current Name: {data.attributes.name}</Text>
      <TextInput value={name} onChangeText={setName} placeholder="Name" />
      <Button
        title="Update Attributes"
        onPress={handleSubmit}
        disabled={isLoading}
      />
    </View>
  );
};
```
This example demonstrates how a developer may configure a form for the `name` attribute, and the structure can be expanded to accept simultaneous inputs for multiple attributes. It is important to note that only attributes configured as 'mutable' may be updated.

### Deleting User Attributes
```ts
import React from 'react';
import {
  View,
  Text,
  ScrollView,
  TouchableOpacity,
  Button,
  StyleSheet,
} from 'react-native';
import { UserAttributeKey } from 'aws-amplify/auth';
import { useUserAttributes } from '@aws-amplify/ui-react-core';

export const DeleteUserAttributes = () => {
  const [{ isLoading, data }, handleAttributes] = useUserAttributes();
  const [selectedAttributes, setSelectedAttributes] = React.useState<
    UserAttributeKey[]
  >([]);

  React.useEffect(() => {
    handleAttributes({ type: 'FETCH' });
  }, [handleAttributes]);

  const handleDeleteSubmit = () => {
    handleAttributes({ type: 'DELETE', userAttributeKeys: selectedAttributes });
  };

  const toggleAttribute = (key: UserAttributeKey) => {
    setSelectedAttributes((prevSelected) =>
      prevSelected.includes(key)
        ? prevSelected.filter((attr) => attr !== key)
        : [...prevSelected, key]
    );
  };

  return (
    <View>
      {isLoading ? (
        <Text>Loading...</Text>
      ) : (
        <View>
          <Text>Delete User Attributes</Text>
          <ScrollView>
            {Object.entries(data.attributes ?? {}).map(([key, value]) => (
              <View key={key} style={styles.row}>
                <TouchableOpacity
                  style={styles.checkbox}
                  onPress={() => toggleAttribute(key)}
                >
                  {selectedAttributes.includes(key) && (
                    <View style={styles.checkboxInner} />
                  )}
                </TouchableOpacity>
                <Text>{key}: </Text>
                <Text>{value || 'unspecified'}</Text>
              </View>
            ))}
          </ScrollView>
          <Button
            title="Delete Selected"
            onPress={handleDeleteSubmit}
            disabled={isLoading || selectedAttributes.length === 0}
          />
        </View>
      )}
    </View>
  );
};

const styles = StyleSheet.create({
  row: {
    flexDirection: 'row',
    alignItems: 'center',
    padding: 10,
  },
  checkbox: {
    width: 20,
    height: 20,
    borderWidth: 1,
    borderColor: 'gray',
    borderRadius: 4,
    marginRight: 10,
    justifyContent: 'center',
    alignItems: 'center',
  },
  checkboxInner: {
    width: 12,
    height: 12,
    backgroundColor: 'black',
    borderRadius: 2,
  },
});
```
As with updating, it is important to note that only attributes configured as 'mutable' may be deleted. Furthermore, 'required' attributes may not be deleted because they may not be undefined.

### Verifying Attributes
```ts
import React from 'react';
import { View, TextInput, Button, Text } from 'react-native';
import { useUserAttributes } from '@aws-amplify/ui-react-core';

export const UpdateEmailForm = () => {
  const [{ isLoading, data }, handleAttributes] = useUserAttributes();
  const [email, setEmail] = React.useState('');
  const [confirmationCode, setConfirmationCode] = React.useState('');

  const handleUpdateSubmit = () => {
    const userAttributes = { email };
    handleAttributes({ type: 'UPDATE', userAttributes });
  };

  const handleVerifySubmit = () => {
    handleAttributes({
      type: 'CONFIRM',
      userAttributeKey: 'email',
      confirmationCode,
    });
  };

  React.useEffect(() => {
    handleAttributes({ type: 'FETCH' });
  }, [handleAttributes]);

  return (
    <View>
      <Text>Current Email: {data.attributes.email}</Text>
      <TextInput value={email} onChangeText={setEmail} placeholder="Email" />
      <Button
        title="Update Email"
        onPress={handleUpdateSubmit}
        disabled={isLoading}
      />

      {data.pendingVerification && (
        <View>
          <Text>
            Verification Code for{' '}
            {data.pendingVerification[0].codeDeliveryDetails.destination}:
          </Text>
          <TextInput
            value={confirmationCode}
            onChangeText={setConfirmationCode}
            placeholder="Confirmation Code"
          />
          <Button
            title={`Verify ${data.pendingVerification[0].name}`}
            onPress={handleVerifySubmit}
            disabled={isLoading}
          />
        </View>
      )}
    </View>
  );
};
```

### Sending Verification Code
```ts
import React from 'react';
import { Button } from 'react-native';
import { useUserAttributes } from '@aws-amplify/ui-react-core';

export const ResendVerificationCodeButton = () => {
  const [{ isLoading }, handleAttributes] = useUserAttributes();

  const handleResendCode = () => {
    handleAttributes({ type: 'SEND_CODE', userAttributeKey: 'email' });
  };

  return (
    <Button
      title="Resend Verification Code"
      onPress={handleResendCode}
      disabled={isLoading}
    />
  );
};
```
With this `handleAttributes` configuration, `userAttributeKey` must be a verifiable attribute, so only `email` and `phone_number` are valid inputs.

### Full Profile Page
Using the various inputs to `handleAttributes`, a simple profile page can easily be configured to accept updates and deletions of attributes.
```ts
import React from 'react';
import { useUserAttributes } from '@aws-amplify/ui-react-core';
import { View, Text, TextInput, ScrollView, Pressable } from 'react-native';
import { UserAttributeKey } from 'aws-amplify/auth';

export const SimpleProfilePage = () => {
  const [state, handleAttributes] = useUserAttributes();
  const [isEditMode, setIsEditMode] = React.useState(false);
  const [formData, setFormData] = React.useState<
    Partial<Record<UserAttributeKey, string>>
  >({});
  const [emailData, setEmailData] = React.useState<string>('');
  const [confirmData, setConfirmData] = React.useState<string>('');
  const [isConfirmMode, setIsConfirmMode] = React.useState(false);

  const editableAttributes: UserAttributeKey[] = [
    'family_name',
    'given_name',
    'locale',
    'name',
    'nickname',
    'birthdate',
    'middle_name',
    'gender',
    'preferred_username',
    'website',
  ];

  const handleAttributeDelete = (key: UserAttributeKey) => {
    handleAttributes({
      type: 'DELETE',
      userAttributeKeys: [key],
    });
    setFormData((prevForm) => ({ ...prevForm, [key]: '' }));
  };

  const handleUpdateInputChange = (key: UserAttributeKey, value: string) => {
    setFormData((prevFormData) => ({
      ...prevFormData,
      [key]: value,
    }));
  };

  const handleEmailInputChange = (value: string) => {
    setEmailData(value);
  };

  const handleConfirmInputChange = (value: string) => {
    setConfirmData(value);
  };
  const handleSubmit = () => {
    handleAttributes({ type: 'UPDATE', userAttributes: formData });
  };

  const handleUpdateSubmit = () => {
    handleAttributes({ type: 'UPDATE', userAttributes: { email: emailData } });
    setIsConfirmMode(true);
  };

  const handleVerifySubmit = () => {
    handleAttributes({
      type: 'CONFIRM',
      userAttributeKey: 'email',
      confirmationCode: confirmData,
    });
    setIsConfirmMode(false);
    setEmailData('');
  };

  React.useEffect(() => {
    handleAttributes({ type: 'FETCH' });
  }, [handleAttributes]);

  if (state.isLoading && !state.data.attributes) {
    return (
      <View>
        <Text>Loading...</Text>
      </View>
    );
  }

  if (state.message) {
    return (
      <View>
        <Text>Error: {state.message}</Text>
      </View>
    );
  }

  if (!state.data.attributes) {
    return (
      <View>
        <Text>No data</Text>
      </View>
    );
  }

  return (
    <ScrollView>
      <View>
        <Text>Profile Information</Text>
        {!isEditMode ? (
          <>
            {Object.entries(state.data.attributes)
              .filter(
                ([key]) =>
                  key !== 'phone_number_verified' &&
                  key !== 'sub' &&
                  key !== 'email_verified' &&
                  key !== 'phone_number'
              )
              .map(([key, value]) => (
                <View key={key}>
                  <Text>
                    {key
                      .replace(/_/g, ' ')
                      .replace(/(^|\s)\S/g, (match) => match.toUpperCase())}
                    :
                  </Text>
                  <Text>{value as string}</Text>
                </View>
              ))}
            <Pressable
              disabled={state.isLoading}
              onPress={() => setIsEditMode(true)}
            >
              <Text>Edit</Text>
            </Pressable>
          </>
        ) : (
          <View>
            <View>
              <Pressable onPress={handleSubmit} disabled={state.isLoading}>
                <Text>Submit Updates</Text>
              </Pressable>
              <Pressable
                onPress={() => setIsEditMode(false)}
                disabled={state.isLoading}
              >
                <Text>Done Editing</Text>
              </Pressable>
            </View>
            {editableAttributes.map((key) => (
              <View key={key}>
                <Text>
                  {key
                    .replace(/_/g, ' ')
                    .replace(/(^|\s)\S/g, (match) => match.toUpperCase())}
                  :
                </Text>
                <TextInput
                  defaultValue={state.data.attributes[key] || ''}
                  value={formData[key]}
                  onChangeText={(value) => handleUpdateInputChange(key, value)}
                />
                <Pressable
                  disabled={state.isLoading}
                  onPress={() => handleAttributeDelete(key)}
                >
                  <Text>Delete</Text>
                </Pressable>
              </View>
            ))}
            <View>
              <Text>Email:</Text>
              <TextInput
                keyboardType="email-address"
                autoCapitalize="none"
                value={emailData}
                onChangeText={(value) => handleEmailInputChange(value)}
              />
              <Pressable
                onPress={handleUpdateSubmit}
                disabled={state.isLoading}
              >
                <Text>Update Email</Text>
              </Pressable>
            </View>
            {isConfirmMode && (
              <View>
                <Text>Verification Code:</Text>
                <TextInput
                  keyboardType="numeric"
                  value={confirmData}
                  onChangeText={(value) => handleConfirmInputChange(value)}
                />
                <Pressable
                  onPress={handleVerifySubmit}
                  disabled={state.isLoading}
                >
                  <Text>Verify Email</Text>
                </Pressable>
              </View>
            )}
          </View>
        )}
      </View>
    </ScrollView>
  );
};
```
</InlineFilter>
</InlineFilter>


## Amplify JS Attribute Management APIs
### Retrieve user attributes

You can retrieve user attributes for your users to read in their profile using the `fetchUserAttributes` API. This helps you personalize their frontend experience as well as control what they will see.

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>

```ts
import { fetchUserAttributes } from 'aws-amplify/auth';

await fetchUserAttributes();
```

</InlineFilter>
<InlineFilter filters={['swift']}>

<BlockSwitcher>
<Block name="Async/Await">

```swift
func fetchAttributes() async {
    do {
        let attributes = try await Amplify.Auth.fetchUserAttributes()
        print("User attributes - \(attributes)")
    } catch let error as AuthError{
        print("Fetching user attributes failed with error \(error)")
    } catch {
        print("Unexpected error: \(error)")
    }
}
```

</Block>
<Block name="Combine">

```swift
func fetchAttributes() -> AnyCancellable {
    Amplify.Publisher.create {
        try await Amplify.Auth.fetchUserAttributes()
        }.sink {
            if case let .failure(authError) = $0 {
                print("Fetch user attributes failed with error \(authError)")
            }
        }
        receiveValue: { attributes in
            print("User attributes - \(attributes)")
        }
}
```

</Block>
</BlockSwitcher>

</InlineFilter>
<InlineFilter filters={['android']}>

<BlockSwitcher>
<Block name="Java">

```java
Amplify.Auth.fetchUserAttributes(
    attributes -> Log.i("AuthDemo", "User attributes = " + attributes.toString()),
    error -> Log.e("AuthDemo", "Failed to fetch user attributes.", error)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
Amplify.Auth.fetchUserAttributes(
    { Log.i("AuthDemo", "User attributes = $attributes") },
    { Log.e("AuthDemo", "Failed to fetch user attributes", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
try {
    val attributes = Amplify.Auth.fetchUserAttributes()
    Log.i("AuthDemo", "User attributes = $attributes")
} catch (error: AuthException) {
    Log.e("AuthDemo", "Failed to fetch user attributes", error)
}
```

</Block>
<Block name="RxJava">

```java
RxAmplify.Auth.fetchUserAttributes()
    .doOnSubscribe(() -> Log.i("AuthDemo", "Attributes:"))
    .flatMapObservable(Observable::fromIterable)
    .subscribe(
        eachAttribute -> Log.i("AuthDemo", eachAttribute.toString()),
        error -> Log.e("AuthDemo", "Failed to fetch attributes.", error)
    );
```

</Block>
</BlockSwitcher>

</InlineFilter>
<InlineFilter filters={['flutter']}>

```dart
Future<void> fetchCurrentUserAttributes() async {
  try {
    final result = await Amplify.Auth.fetchUserAttributes();
    for (final element in result) {
      safePrint('key: ${element.userAttributeKey}; value: ${element.value}');
    }
  } on AuthException catch (e) {
    safePrint('Error fetching user attributes: ${e.message}');
  }
}
```

</InlineFilter>

### Update user attribute

You can use the `updateUserAttribute` API to create or update existing user attributes.

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>
<BlockSwitcher>
<Block name="TypeScript">

```typescript
import {
  updateUserAttribute,
  type UpdateUserAttributeOutput
} from 'aws-amplify/auth';

async function handleUpdateUserAttribute(attributeKey: string, value: string) {
  try {
    const output = await updateUserAttribute({
      userAttribute: {
        attributeKey,
        value
      }
    });
    handleUpdateUserAttributeNextSteps(output);
  } catch (error) {
    console.log(error);
  }
}

function handleUpdateUserAttributeNextSteps(output: UpdateUserAttributeOutput) {
  const { nextStep } = output;

  switch (nextStep.updateAttributeStep) {
    case 'CONFIRM_ATTRIBUTE_WITH_CODE':
      const codeDeliveryDetails = nextStep.codeDeliveryDetails;
      console.log(
        `Confirmation code was sent to ${codeDeliveryDetails?.deliveryMedium}.`
      );
      // Collect the confirmation code from the user and pass to confirmUserAttribute.
      break;
    case 'DONE':
      console.log(`attribute was successfully updated.`);
      break;
  }
}
```

</Block>
<Block name="JavaScript">

```javascript
import { updateUserAttribute } from 'aws-amplify/auth';

async function handleUpdateUserAttribute(attributeKey, value) {
  try {
    const output = await updateUserAttribute({
      userAttribute: {
        attributeKey,
        value
      }
    });
    handleUpdateUserAttributeNextSteps(output);
  } catch (error) {
    console.log(error);
  }
}

function handleUpdateUserAttributeNextSteps(output) {
  const { nextStep } = output;

  switch (nextStep.updateAttributeStep) {
    case 'CONFIRM_ATTRIBUTE_WITH_CODE':
      const codeDeliveryDetails = nextStep.codeDeliveryDetails;
      console.log(
        `Confirmation code was sent to ${codeDeliveryDetails?.deliveryMedium}.`
      );
      // Collect the confirmation code from the user and pass to confirmUserAttribute.
      break;
    case 'DONE':
      console.log(`attribute was successfully updated.`);
      break;
  }
}
```

</Block>
</BlockSwitcher>

<Callout>
  Note: If you change an attribute that requires confirmation (i.e. email or phone_number), the user will receive a confirmation code either to their email or cellphone. This code can be used with the confirmUserAttribute API to confirm the change.
</Callout>
</InlineFilter>

<InlineFilter filters={['swift']}>
<BlockSwitcher>

<Block name="Async/Await">

```swift
func updateAttribute() async {
    do {
        let updateResult = try await Amplify.Auth.update(
            userAttribute: AuthUserAttribute(.phoneNumber, value: "+2223334444")
        )

        switch updateResult.nextStep {
        case .confirmAttributeWithCode(let deliveryDetails, let info):
            print("Confirm the attribute with details send to - \(deliveryDetails) \(String(describing: info))")
        case .done:
            print("Update completed")
        }
    } catch let error as AuthError {
        print("Update attribute failed with error \(error)")
    } catch {
        print("Unexpected error: \(error)")
    }
}
```

</Block>

<Block name="Combine">

```swift
func updateAttribute() -> AnyCancellable {
    Amplify.Publisher.create {
        try await Amplify.Auth.update(
          userAttribute: AuthUserAttribute(.phoneNumber, value: "+2223334444")
        )
    }.sink {
        if case let .failure(authError) = $0 {
            print("Update attribute failed with error \(authError)")
        }
    }
    receiveValue: { updateResult in
        switch updateResult.nextStep {
        case .confirmAttributeWithCode(let deliveryDetails, let info):
            print("Confirm the attribute with details send to - \(deliveryDetails) \(info)")
        case .done:
            print("Update completed")
        }
    }
}
```

</Block>

</BlockSwitcher>
</InlineFilter>

<InlineFilter filters={['android']}>
<BlockSwitcher>
<Block name="Java">

```java
AuthUserAttribute userEmail =
    new AuthUserAttribute(AuthUserAttributeKey.email(), "email@email.com");
Amplify.Auth.updateUserAttribute(userEmail,
    result -> Log.i("AuthDemo", "Updated user attribute = " + result.toString()),
    error -> Log.e("AuthDemo", "Failed to update user attribute.", error)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
Amplify.Auth.updateUserAttribute(
    AuthUserAttribute(AuthUserAttributeKey.email(), "email@email.com"),
    { Log.i("AuthDemo", "Updated user attribute = $it") },
    { Log.e("AuthDemo", "Failed to update user attribute.", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
val attribute =
    AuthUserAttribute(AuthUserAttributeKey.email(), "email@email.com")
try {
    val result = Amplify.Auth.updateUserAttribute(attribute)
    Log.i("AuthDemo", "Updated user attribute = $result")
} catch (error: AuthException) {
    Log.e("AuthDemo", "Failed to update user attribute.", error)
}
```

</Block>
<Block name="RxJava">

```java
AuthUserAttribute userEmail =
    new AuthUserAttribute(AuthUserAttributeKey.email(), "email@email.com");
RxAmplify.Auth.updateUserAttribute(userEmail)
    .subscribe(
        result -> Log.i("AuthDemo", "Updated user attribute = " + result.toString()),
        error -> Log.e("AuthDemo", "Failed to update user attribute.", error)
    );
```

</Block>
</BlockSwitcher>

</InlineFilter>

<InlineFilter filters={['flutter']}>

```dart
Future<void> updateUserEmail({
  required String newEmail,
}) async {
  try {
    final result = await Amplify.Auth.updateUserAttribute(
      userAttributeKey: AuthUserAttributeKey.email,
      value: newEmail,
    );
    _handleUpdateUserAttributeResult(result);
  } on AuthException catch (e) {
    safePrint('Error updating user attribute: ${e.message}');
  }
}
```

User attribute updates may require additional verification before they're complete. Check the
`UpdateUserAttributeResult` returned from `Amplify.Auth.updateUserAttribute` to see which next
step, if any, is required. When the update is complete, the next step will be `done`.

```dart
void _handleUpdateUserAttributeResult(
  UpdateUserAttributeResult result,
) {
  switch (result.nextStep.updateAttributeStep) {
    case AuthUpdateAttributeStep.confirmAttributeWithCode:
      final codeDeliveryDetails = result.nextStep.codeDeliveryDetails!;
      _handleCodeDelivery(codeDeliveryDetails);
      break;
    case AuthUpdateAttributeStep.done:
      safePrint('Successfully updated attribute');
      break;
  }
}

void _handleCodeDelivery(AuthCodeDeliveryDetails codeDeliveryDetails) {
  safePrint(
    'A confirmation code has been sent to ${codeDeliveryDetails.destination}. '
    'Please check your ${codeDeliveryDetails.deliveryMedium.name} for the code.',
  );
}
```

To update multiple user attributes at a time, call `updateUserAttributes`:

```dart
Future<void> updateUserAttributes() async {
  const attributes = [
    AuthUserAttribute(
      userAttributeKey: AuthUserAttributeKey.email,
      value: 'email@email.com',
    ),
    AuthUserAttribute(
      userAttributeKey: AuthUserAttributeKey.familyName,
      value: 'MyFamilyName',
    ),
  ];
  try {
    final result = await Amplify.Auth.updateUserAttributes(
      attributes: attributes,
    );
    result.forEach((key, value) {
      switch (value.nextStep.updateAttributeStep) {
        case AuthUpdateAttributeStep.confirmAttributeWithCode:
          final destination = value.nextStep.codeDeliveryDetails?.destination;
          safePrint('Confirmation code sent to $destination for $key');
          break;
        case AuthUpdateAttributeStep.done:
          safePrint('Update completed for $key');
          break;
      }
    });
  } on AuthException catch (e) {
    safePrint('Error updating user attributes: ${e.message}');
  }
}
```
</InlineFilter>

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs', 'android']}>
### Update user attributes

You can use the `updateUserAttributes` API to create or update multiple existing user attributes.

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>
```typescript
import { updateUserAttributes, type UpdateUserAttributesOutput } from "aws-amplify/auth";

await updateUserAttributes({
  userAttributes: {
    email: "me@domain.com",
    name: "Jon Doe",
  },
});
```
</InlineFilter>

<InlineFilter filters={['android']}>

<BlockSwitcher>
<Block name="Java">

```java
Amplify.Auth.updateUserAttributes(
    attributes, // attributes is a list of AuthUserAttribute
    result -> Log.i("AuthDemo", "Updated user attributes = " + result.toString()),
    error -> Log.e("AuthDemo", "Failed to update user attributes.", error)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
Amplify.Auth.updateUserAttributes(
    attributes, // attributes is a list of AuthUserAttribute
    { Log.i("AuthDemo", "Updated user attributes = $it") },
    { Log.e("AuthDemo", "Failed to update user attributes", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
try {
    val result = Amplify.Auth.updateUserAttributes(attributes)
    Log.i("AuthDemo", "Updated user attributes = $result")
} catch (error: AuthException) {
    Log.e("AuthDemo", "Failed to update user attributes", error)
}
```

</Block>
<Block name="RxJava">

```java
// attributes is a list of AuthUserAttribute
RxAmplify.Auth.updateUserAttributes(attributes)
    .subscribe(
        result -> Log.i("AuthDemo", "Updated user attributes = " + result.toString()),
        error -> Log.e("AuthDemo", "Failed to update user attributes.", error)
    );
```

</Block>
</BlockSwitcher>
</InlineFilter>
</InlineFilter>

### Verify user attribute

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs', 'flutter', 'android']}>
Some attributes require confirmation for the attribute update to complete. If the attribute needs to be confirmed, part of the result of the `updateUserAttribute` or `updateUserAttributes` APIs will be `CONFIRM_ATTRIBUTE_WITH_CODE`. A confirmation code will be sent to the delivery medium mentioned in the delivery details. When the user gets the confirmation code, you can present a UI to the user to enter the code and invoke the `confirmUserAttribute` API with their input:
</InlineFilter>

<InlineFilter filters={['swift']}>
Some attributes require confirmation for the attribute update to complete. If the attribute needs to be confirmed, part of the result of the `updateUserAttribute` or `updateUserAttributes` APIs will be `confirmAttributeWithCode`. A confirmation code will be sent to the delivery medium mentioned in the delivery details. When the user gets the confirmation code, you can present a UI to the user to enter the code and invoke the `confirmUserAttribute` API with their input:
</InlineFilter>

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>
```typescript
import {
  confirmUserAttribute,
  type ConfirmUserAttributeInput
} from 'aws-amplify/auth';

async function handleConfirmUserAttribute({
  userAttributeKey,
  confirmationCode
}: ConfirmUserAttributeInput) {
  try {
    await confirmUserAttribute({ userAttributeKey, confirmationCode });
  } catch (error) {
    console.log(error);
  }
}
```
</InlineFilter>

<InlineFilter filters={['swift']}>
<BlockSwitcher>

<Block name="Async/Await">

```swift
func confirmAttribute() async {
    do {
        try await Amplify.Auth.confirm(userAttribute: .email, confirmationCode: "390739")
        print("Attribute verified")
    } catch let error as AuthError {
        print("Update attribute failed with error \(error)")
    } catch {
        print("Unexpected error: \(error)")
    }
}
```

</Block>

<Block name="Combine">

```swift
func confirmAttribute() -> AnyCancellable {
    Amplify.Publisher.create {
        try await Amplify.Auth.confirm(userAttribute: .email, confirmationCode: "390739")
        }.sink {
            if case let .failure(authError) = $0 {
                print("Update attribute failed with error \(authError)")
            }
        }
        receiveValue: { _ in
            print("Attribute verified")
        }
}
```

</Block>

</BlockSwitcher>
</InlineFilter>

<InlineFilter filters={['android']}>
<BlockSwitcher>
<Block name="Java">

```java
Amplify.Auth.confirmUserAttribute(AuthUserAttributeKey.email(), "344299",
    () -> Log.i("AuthDemo", "Confirmed user attribute with correct code."),
    error -> Log.e("AuthDemo", "Failed to confirm user attribute. Bad code?", error)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
Amplify.Auth.confirmUserAttribute(AuthUserAttributeKey.email(), "344299",
    { Log.i("AuthDemo", "Confirmed user attribute with correct code.") },
    { Log.e("AuthDemo", "Failed to confirm user attribute. Bad code?", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
try {
    Amplify.Auth.confirmUserAttribute(AuthUserAttributeKey.email(), "344299")
    Log.i("AuthDemo", "Confirmed user attribute with correct code.") 
} catch (error: AuthException) {
    Log.e("AuthDemo", "Failed to confirm user attribute. Bade code?", error) 
}
```

</Block>
<Block name="RxJava">

```java
RxAmplify.Auth.confirmUserAttribute(AuthUserAttributeKey.email(), "344299")
    .subscribe(
        () -> Log.i("AuthDemo", "Confirmed user attribute using correct code."),
        error -> Log.e("AuthDemo", "Failed to confirm user attribute. Bad code?", error)
    );
```

</Block>
</BlockSwitcher>
</InlineFilter>

<InlineFilter filters={['flutter']}>
```dart
Future<void> verifyAttributeUpdate() async {
  try {
    await Amplify.Auth.confirmUserAttribute(
      userAttributeKey: AuthUserAttributeKey.email,
      confirmationCode: '390739',
    );
  } on AuthException catch (e) {
    safePrint('Error confirming attribute update: ${e.message}');
  }
}
```
</InlineFilter>


### Send user attribute verification code

If an attribute needs to be verified while the user is authenticated, invoke the `sendUserAttributeVerificationCode` API as shown below:

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>
```ts
import {
  sendUserAttributeVerificationCode,
  type VerifiableUserAttributeKey
} from 'aws-amplify/auth';

async function handleSendUserAttributeVerificationCode(
  key: VerifiableUserAttributeKey
) {
  try {
    await sendUserAttributeVerificationCode({
      userAttributeKey: key
    });
  } catch (error) {
    console.log(error);
  }
}
```
</InlineFilter>

<InlineFilter filters={['swift']}>
<BlockSwitcher>

<Block name="Async/Await">

```swift
func sendVerificationCode() async {
    do {
        let deliveryDetails = try await Amplify.Auth.sendVerificationCode(forUserAttributeKey: .email)
        print("Resend code send to - \(deliveryDetails)")
    } catch let error as AuthError {
        print("Resend code failed with error \(error)")
    } catch {
        print("Unexpected error: \(error)")
    }
}
```

</Block>

<Block name="Combine">

```swift
func sendVerificationCode() -> AnyCancellable {
    Amplify.Publisher.create {
        try await Amplify.Auth.sendVerificationCode(forUserAttributeKey: .email)
        }.sink {
            if case let .failure(authError) = $0 {
                print("Resend code failed with error \(authError)")
            }
        }
        receiveValue: { deliveryDetails in
            print("Resend code sent to - \(deliveryDetails)")
        }
}
```

</Block>

</BlockSwitcher>
</InlineFilter>

<InlineFilter filters={['android']}>
<BlockSwitcher>
<Block name="Java">

```java
Amplify.Auth.resendUserAttributeConfirmationCode(AuthUserAttributeKey.email(),
    result -> Log.i("AuthDemo", "Code was sent again: " + result.toString()),
    error -> Log.e("AuthDemo", "Failed to resend code.", error)
);
```

</Block>
<Block name="Kotlin - Callbacks">

```kotlin
Amplify.Auth.resendUserAttributeConfirmationCode(
    AuthUserAttributeKey.email(),
    { Log.i("AuthDemo", "Code was sent again: $it") },
    { Log.e("AuthDemo", "Failed to resend code", it) }
)
```

</Block>
<Block name="Kotlin - Coroutines">

```kotlin
try {
    val attr = AuthUserAttributeKey.email()
    val result = Amplify.Auth.resendUserAttributeConfirmationCode(attr)
    Log.i("AuthDemo", "Code was sent again: $result."),
} catch (error: AuthException) {
    Log.e("AuthDemo", "Failed to resend code.", error)
}
```

</Block>
<Block name="RxJava">

```java
RxAmplify.Auth.resendUserAttributeConfirmationCode(AuthUserAttributeKey.email())
    .subscribe(
        result -> Log.i("AuthDemo", "Code was resent: " + result.toString()),
        error -> Log.e("AuthDemo", "Failed to resend code.", error)
    );
```

</Block>
</BlockSwitcher>
</InlineFilter>

<InlineFilter filters={['flutter']}>
 ```dart
Future<void> resendVerificationCode() async {
  try {
    final result = await Amplify.Auth.resendUserAttributeConfirmationCode(
      userAttributeKey: AuthUserAttributeKey.email,
    );
    _handleCodeDelivery(result.codeDeliveryDetails);
  } on AuthException catch (e) {
    safePrint('Error resending code: ${e.message}');
  }
}
```
</InlineFilter>

<InlineFilter filters={['javascript', 'angular', 'react', 'vue', 'react-native', 'nextjs']}>
### Delete user attributes

The `deleteUserAttributes` API allows to delete one or more user attributes.

```ts
import {
  deleteUserAttributes,
  type DeleteUserAttributesInput
} from 'aws-amplify/auth';

async function handleDeleteUserAttributes(
  keys: DeleteUserAttributesInput['userAttributeKeys']
) {
  try {
    await deleteUserAttributes({
      userAttributeKeys: ['custom:my_custom_attribute', ...keys]
    });
  } catch (error) {
    console.log(error);
  }
}
```
</InlineFilter>

## Next Steps 

- [Learn how to set up password change and recovery](/[platform]/build-a-backend/auth/manage-users/manage-passwords/)
- [Learn how to set up custom attributes](/[platform]/build-a-backend/auth/concepts/user-attributes#custom-attributes)
